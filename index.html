<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PlayTogether Fish Tool</title>

<!-- Favicon & Web App Icons -->
<link rel="icon" type="image/png" sizes="32x32" href="icon-32.png">
<link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
<link rel="apple-touch-icon" href="icon-192.png">

<!-- Web App meta -->
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="PlayTogether Fish Tool">
<meta name="theme-color" content="#000000">

<style>
  body{background:#000;color:#39ff14;font-family:monospace;margin:0;padding:10px}
  h2{font-size:18px;text-align:center;margin:10px 0;color:#fff}
  button{display:block;margin:0 auto 15px auto;background:#000;border:1px solid #39ff14;
    color:#39ff14;padding:12px 20px;font-size:16px;border-radius:6px}
  .fish{border:1px solid #39ff14;margin:10px 0;padding:10px;border-radius:8px}
  .active{border-color:#fff;box-shadow:0 0 10px #39ff14}
  .title{color:#fff;font-weight:bold;font-size:16px;margin-bottom:5px}
  .row{margin:2px 0;font-size:14px}
  .pred{color:#9f9;margin-top:4px;font-size:13px}
</style>
</head>
<body>
<h2>ğŸ£ PlayTogether Fish Tool</h2>
<button id="btn">Gá»¢I Ã</button>
<div id="list"></div>
<script>
const fishData=[
/* ... dá»¯ liá»‡u cÃ¡ nhÆ° trong code gá»‘c ... */
];

// hÃ m tÃ­nh khung dá»± Ä‘oÃ¡n
function predictRange(minuteStr){
  if(!minuteStr) return "---";
  return minuteStr.split('|').map(pair=>{
    let [a,b]=pair.trim().split('-').map(x=>parseInt(x));
    let na=(a+17)%60;
    let nb=(b+17)%60;
    return (na<10?"0"+na:na)+"-"+(nb<10?"0"+nb:nb);
  }).join(' | ');
}

// xÃ¡c Ä‘á»‹nh ngÃ y/Ä‘Ãªm
function inDay(h){return h>=6&&h<18;}
function parseRanges(str){
  if(!str) return [];
  return str.split('|').map(s=>s.trim()).map(r=>{
    let [a,b]=r.split('-').map(x=>parseInt(x));
    return {a:a,b:b};
  });
}
function inRange(min,a,b){return a<=b?(min>=a&&min<=b):(min>=a||min<=b);}

document.getElementById("btn").onclick=function(){
  const now=new Date();
  const h=now.getHours(),m=now.getMinutes();
  const isDay=inDay(h);
  let arr=[];
  fishData.forEach(f=>{
    let active=false;
    let ranges=parseRanges(f.minute);
    if(ranges.length){
      active=ranges.some(r=>inRange(m,r.a,r.b));
    }
    if(f.time=="Ban ngÃ y"&&!isDay) active=false;
    if(f.time=="Ban Ä‘Ãªm"&&isDay) active=false;
    arr.push({...f,active});
  });
  arr.sort((a,b)=>b.active-a.active);
  const list=document.getElementById("list");
  list.innerHTML="";
  arr.forEach(f=>{
    const div=document.createElement("div");
    div.className="fish"+(f.active?" active":"");
    div.innerHTML=`
      <div class="title">${f.name}</div>
      <div class="row">â± Khung gá»‘c: ${f.minute||'---'}</div>
      <div class="row">ğŸ“… Khung dá»± Ä‘oÃ¡n: <span class="pred">${predictRange(f.minute)}</span></div>
      <div class="row">ğŸŒ/ğŸŒ™: ${f.time}</div>
      <div class="row">ğŸ“ Äá»‹a Ä‘iá»ƒm: ${f.loc}</div>
      <div class="row">ğŸ¯ BÃ³ng: ${f.shadow}</div>`;
    list.appendChild(div);
  });
}
</script>
</body>
</html>